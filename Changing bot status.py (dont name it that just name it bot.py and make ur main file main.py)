from discord.ext import commands, tasks
import discord, random , time, asyncio

class Bot(commands.Cog):
  def __init__(self,bot):
    self.bot = bot
    self.status_task.start()

  @tasks.loop(seconds=40)
  async def status_task(self):
    await self.bot.change_presence(status=discord.Status.online, activity=discord.Activity(type=discord.ActivityType.listening, name="<just put anything here and dont name it this>"))
    await asyncio.sleep(40)
    await self.bot.change_presence(status=discord.Status.online, activity=discord.Activity(type=discord.ActivityType.watching, name=f"{len(self.bot.guilds)} servers | {len(self.bot.users)} users"))
    await asyncio.sleep(40)
    await self.bot.change_presence(status=discord.Status.online, activity=discord.Activity(type=discord.ActivityType.watching, name="<just put anything here and dont name it this>"))
    await asyncio.sleep(40)

  @status_task.before_loop
  async def before_status_task(self):
    await self.bot.wait_until_ready()

def setup(bot):
  bot.add_cog(Bot(bot))
  print("STATUS TASK LOADED")
